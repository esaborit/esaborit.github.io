<!DOCTYPE html>
<html lang='es' ><meta charset="utf-8">
<meta name="viewport" content="width=device-width">

<meta http-equiv="Content-Security-Policy" content=" default-src 'self';">

<meta http-equiv="X-Frame-Options" content="deny">
<meta http-equiv="X-XSS-Protection"  content="1;mode=block">
<meta content="text/html; charset=UTF-8; X-Content-Type-Options=nosniff" http-equiv="Content-Type" />

<title>Configuración de un entorno de desarrollo con Laravel en Ubuntu Server 20.04|ESC</title><link rel="stylesheet" href="https://esaborit.github.io/css/eureka.min.css"><script defer src="https://esaborit.github.io/js/eureka.min.js"></script>

<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload"
  href="https://fonts.googleapis.com/css2?family=Lora:wght@400;600;700&family=Noto+Serif+SC:wght@400;600;700&display=swap"
  as="style" onload="this.onload=null;this.rel='stylesheet'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/styles/solarized-light.min.css"media="print"
  onload="this.media='all';this.onload=null" crossorigin>
<script defer src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/highlight.min.js"crossorigin></script>
<script defer src="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/js/all.min.js"integrity="sha256-uNYoXefWRqv&#43;PsIF/OflNmwtKM4lStn9yrz2gVl6ymo="crossorigin></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3&#43;Aro6EYUG4&#43;cU&#43;KJWu/X"media="print"
  onload="this.media='all';this.onload=null" crossorigin>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js"integrity="sha384-g7c&#43;Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI&#43;sEnkvrMWph2EDg4"crossorigin></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js"integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC&#43;Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa"crossorigin></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    renderMathInElement(document.body, {
      delimiters: [
        { left: "$$", right: "$$", display: true },
        { left: "$", right: "$", display: false },
        { left: "\\(", right: "\\)", display: false },
        { left: "\\[", right: "\\]", display: true }
      ],});
  });
</script><link rel="icon" type="image/png" sizes="32x32" href="https://esaborit.github.io/images/icon_hu64421c6c7700f606f0ad45d807017b09_5843_32x32_fill_box_center_2.png">
<link rel="apple-touch-icon" sizes="180x180" href="https://esaborit.github.io/images/icon_hu64421c6c7700f606f0ad45d807017b09_5843_180x180_fill_box_center_2.png"><meta name="description"
    content="Sample article showcasing basic Markdown syntax and formatting for HTML elements.">





<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [{
"@type": "ListItem",
"position":  1 ,
"name": "ESC",
"item": "https://esaborit.github.io/"
},{
"@type": "ListItem",
"position":  2 ,
"name": "Artículos",
"item": "https://esaborit.github.io/posts/"
},{
"@type": "ListItem",
"position":  3 ,
"name": "Configuración de un entorno de desarrollo con Laravel en Ubuntu Server 20.04",
"item": "https://esaborit.github.io/posts/configurando-entorno-de-desarrollo-con-laravel-en-ubuntu-server-20-04/"
}]
}
</script>



<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://esaborit.github.io/posts/configurando-entorno-de-desarrollo-con-laravel-en-ubuntu-server-20-04/"
    },
    "headline": "Configuración de un entorno de desarrollo con Laravel en Ubuntu Server 20.04 | ESC",
    "image": "https://esaborit.github.io/img/post/Configurando-entorno-de-desarrollo-con-laravel-en-ubuntu-server-20-04/laravel-ubuntu.jpg",
    "datePublished": "2020-12-29T00:00:00+00:00",
    "dateModified": "2020-12-29T00:00:00+00:00",
    "wordCount":  4994 ,
    "author": {
        "@type": "Person",
        "name": ["enrique_saborit"]
    },
    "publisher": {
        "@type": "Blog",
        "name": "C. Wang",
        "logo": {
            "@type": "ImageObject",
            "url": "https://esaborit.github.io/images/icon.png"
        }
        },
    "description": "Sample article showcasing basic Markdown syntax and formatting for HTML elements."
}
</script>
<meta property="og:title" content="Configuración de un entorno de desarrollo con Laravel en Ubuntu Server 20.04 | ESC" />
<meta property="og:type" content="article" />


<meta property="og:image" content="https://esaborit.github.io/images/icon.png">


<meta property="og:url" content="https://esaborit.github.io/posts/configurando-entorno-de-desarrollo-con-laravel-en-ubuntu-server-20-04/" />



<meta property="og:description" content="Sample article showcasing basic Markdown syntax and formatting for HTML elements." />



<meta property="og:locale" content="es" />




<meta property="og:site_name" content="ESC" />






<meta property="article:published_time" content="2020-12-29T00:00:00&#43;00:00" />


<meta property="article:modified_time" content="2020-12-29T00:00:00&#43;00:00" />



<meta property="article:section" content="posts" />


<meta property="article:tag" content="Github" />

<meta property="article:tag" content="Laravel" />









<meta property="og:see_also" content="https://esaborit.github.io/posts/clonar-proyecto-laravel-desde-github/" />





<body class="flex flex-col min-h-screen">
    <header class="flex items-center fixed w-full min-h-16 z-50 bg-secondary-bg shadow-sm">
        <div class="container mx-auto">
            <div class="max-w-screen-xl"><script>
    let storageColorScheme = localStorage.getItem("lightDarkMode")
    
    if ((storageColorScheme == 'Auto' || storageColorScheme == null) && window.matchMedia("(prefers-color-scheme: dark)").matches) {
        document.getElementsByTagName('html')[0].classList.add('dark')
    } else if (storageColorScheme == "Dark") {
        document.getElementsByTagName('html')[0].classList.add('dark')
    }
    
</script>
<nav class="flex items-center justify-between flex-wrap p-4">
    <a href="/" class="mr-6 text-primary-text text-xl font-bold">ESC</a>
    <button id="navbar-btn" class="md:hidden flex items-center px-3 py-2" aria-label="Open Navbar">
        <i class="fas fa-bars"></i>
    </button>

    <div id="target"
        class="hidden block md:flex md:flex-grow md:justify-between md:items-center w-full md:w-auto text-primary-text z-20">
        <div class="text-sm md:flex-grow pb-4 md:pb-0 border-b md:border-b-0" id="current-url"
            currenturl="https://esaborit.github.io/posts/configurando-entorno-de-desarrollo-con-laravel-en-ubuntu-server-20-04/">
            
            <a href="/posts/"
                class="block mt-4 md:inline-block md:mt-0 hover:text-eureka mr-4 main-a">Artículos</a>
            
            <a href="/docs/"
                class="block mt-4 md:inline-block md:mt-0 hover:text-eureka mr-4 main-a">Documentos</a>
            
        </div>

        <div class="flex">
            <div class="relative pt-4 md:pt-0">
                <div class="cursor-pointer hover:text-eureka" id="lightDarkMode">
                    
                    <i class="fas fa-adjust"></i>
                    
                </div>
                <div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-30" id="is-open">
                </div>
                <div class="absolute flex flex-col left-0 md:left-auto right-auto md:right-0 hidden bg-secondary-bg w-48 rounded py-2 border border-tertiary-bg cursor-pointer z-40"
                    id='lightDarkOptions'>
                    <span class="px-4 py-1 hover:text-eureka">Light</span>
                    <span class="px-4 py-1 hover:text-eureka">Dark</span>
                    <span class="px-4 py-1 hover:text-eureka">Auto</span>
                </div>
            </div>

            
        </div>
    </div>

    <div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-0" id="is-open-mobile">
    </div>

</nav>
<script>
    let element = document.getElementById('lightDarkMode')
    
    if (storageColorScheme == null || storageColorScheme == 'Auto') {
        document.addEventListener('DOMContentLoaded', () => {
            switchMode('Auto')
        })
    } else if (storageColorScheme == "Light") {
        element.firstElementChild.classList.remove('fa-adjust')
        element.firstElementChild.setAttribute("data-icon", 'sun')
        element.firstElementChild.classList.add('fa-sun')
    } else if (storageColorScheme == "Dark") {
        element.firstElementChild.classList.remove('fa-adjust')
        element.firstElementChild.setAttribute("data-icon", 'moon')
        element.firstElementChild.classList.add('fa-moon')
    }
    
    
    document.addEventListener('DOMContentLoaded', () => {
        getcolorscheme();
        switchBurger();
        
    });

    let currenturl = document.getElementById('current-url').getAttribute('currenturl')
        if (currenturl.length > 1) {
            currenturl = currenturl.substr(0, currenturl.length - 1)
        }

        sessionStorage.setItem("mainKey", currenturl)

        let elements = document.getElementsByClassName('main-a');
        for (let i in elements) {
            if (typeof elements[i] === "object") {
                let elementurl = elements[i].getAttribute('href')
                if (elementurl.length > 1 && elementurl.charAt(elementurl.length - 1) == '/') {
                    elementurl = elementurl.substr(0, elementurl.length - 1)
                }
                if (elementurl == sessionStorage.getItem("mainKey")) {
                    elements[i].classList.add('text-eureka')
                } else {
                    elements[i].classList.remove('text-eureka')
                }
            }
        }
</script></div>
        </div>
    </header>

    <main class="flex-grow pt-16">
        
        <div class="container mx-auto ">
            <div class="max-w-screen-xl lg:px-4 xl:px-8">


<div class="grid grid-cols-2 lg:grid-cols-8 gap-4 lg:pt-12">
    <div
        class="col-span-2  lg:col-span-6 bg-secondary-bg rounded px-6 py-8">
        <h1 class="font-bold text-3xl text-primary-text">Configuración de un entorno de desarrollo con Laravel en Ubuntu Server 20.04</h1>
        <div class="flex flex-wrap flex-row items-center my-2 text-tertiary-text">
    <div class="mr-6 my-2">
        <i class="fas fa-calendar mr-1"></i>
        <span>2020-12-29</span>
    </div>
    <div class="mr-6 my-2">
        <i class="fas fa-clock mr-1"></i>
        <span>24 min lectura</span>
    </div>
    
    
    <div class="mr-6 my-2">
        <i class="fas fa-folder mr-1"></i>
        
        <a href="https://esaborit.github.io/categories/programaci%C3%B3n/" class="hover:text-eureka">Programación</a>
        
        
        <span>, </span>
        <a href="https://esaborit.github.io/categories/laravel/" class="hover:text-eureka">Laravel</a>
        
    </div>
    

    
    <div class="mr-6 my-2">
        <i class="fas fa-th-list mr-1"></i>
        
        <a href="https://esaborit.github.io/series/programando-con-laravel/" class="hover:text-eureka">Programando con Laravel</a>
        
    </div>
    
</div>
        
        
        <div class="my-4">
            <img src="https://esaborit.github.io/img/post/Configurando-entorno-de-desarrollo-con-laravel-en-ubuntu-server-20-04/laravel-ubuntu.jpg" class="w-full" alt="Featured Image">
        </div>
        
        <div class="content">
            <p>Voy a crear una máquina virtual con Ubuntu Server 20.04 en VirtualBox donde instalaré todas las herramientas y servicios necesarios para el entorno de desarrollo con Laravel.</p>
<p>Accederé a la MV vía ssh desde la línea de comandos de mi equipo anfitrión. Para facilitar la tarea debo establecer una ip estática en la interface del servidor desde la que tendré acceso.
para ello arranco la MV con Ubuntu Server</p>
<h2 id="configurar-una-dirección-ip-estática-en-ubuntu-server-2004">Configurar una dirección IP estática en Ubuntu Server 20.04</h2>
<p>Para el caso de Ubuntu Server 20.04, es importante anotar que el archivo de configuración de red Netplan por defecto lo encontraré en la ruta <code>/etc/netplan/00-installer-config.yaml</code>.</p>
<h3 id="paso-1">Paso 1</h3>
<p>Voy a detectar la interfaz de red actual con el comando ip a:</p>
<pre><code>enrique@enrique-server:~$ ip addr
1: lo: &lt;LOOPBACK,UP,LOWER_UP/&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host 
       valid_lft forever preferred_lft forever
2: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP/&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether 08:00:27:e2:ed:03 brd ff:ff:ff:ff:ff:ff
    inet 192.168.100.160/24 brd 192.168.100.255 scope global enp0s3
       valid_lft forever preferred_lft forever
    inet6 fe80::a00:27ff:fee2:ed03/64 scope link
       valid_lft forever preferred_lft forever
</code></pre>
<h3 id="paso-2">Paso 2</h3>
<p>En este caso el adaptador es “enp0s3” con la dirección IP “192.168.100.160”. Es momento de validar que CloudInit no gestiona la interfaz de red, para ello abriré el archivo de configuración con mi editor habitual:</p>
<pre><code>enrique@enrique-server:~$ sudo nano /etc/cloud/cloud.cfg.d/subiquity-disable-cloudinit-networking.cfg
</code></pre>
<h3 id="paso-3">Paso 3</h3>
<p>Allí debo validar que existe la siguiente línea, si no está la debo ingresar manualmente:</p>
<pre><code>network: {config: disabled}
</code></pre>
<pre><code>  GNU nano 4.8             /etc/cloud/cloud.cfg.d/subiquity-disable-cloudinit-networking.cfg                        
network: {config: disabled}







             [ File '/etc/cloud/cloud.cfg.d/subiquity-disable-cloudinit-networking.cfg' is unwritable ]
^G Get Help     ^O Write Out    ^W Where Is     ^K Cut Text     ^J Justify      ^C Cur Pos      M-U Undo
^X Exit         ^R Read File    ^\ Replace      ^U Paste Text   ^T To Spell     ^_ Go To Line   M-E Redo

</code></pre>
<h3 id="paso-4">Paso 4</h3>
<p>Guardo los cambios si aplica y luego de esto abriré el archivo de configuración Netplan con la siguiente orden. Allí verifico que el adaptador de red posea el protocolo dhcp en estado “true, esto significa que usar DNS para las direcciones IP.</p>
<pre><code>enrique@enrique-server:~$ nano /etc/netplan/00-installer-config.yaml 
</code></pre>
<h3 id="paso-5">Paso 5</h3>
<p>Debo borrar estas líneas e ingresar las siguientes con los datos deseados:</p>
<pre><code>  GNU nano 4.8                           /etc/netplan/00-installer-config.yaml                                      
# This is the network config written by 'subiquity'
network:
  ethernets:
    enp0s3:
      addresses: [192.168.100.160/24]
      gateway4: 192.168.100.11
      nameservers:
        addresses: [192.168.100.11, 8.8.8.8]
  version: 2



                           [ File '/etc/netplan/00-installer-config.yaml' is unwritable ]
^G Get Help     ^O Write Out    ^W Where Is     ^K Cut Text     ^J Justify      ^C Cur Pos      M-U Undo
^X Exit         ^R Read File    ^\ Replace      ^U Paste Text   ^T To Spell     ^_ Go To Line   M-E Redo

</code></pre>
<h3 id="paso-6">Paso 6</h3>
<p>Guardo los cambios usando la combinación de teclas siguiente:</p>
<p><code>Ctrl + O</code></p>
<p>Salo del editor usando:</p>
<p><code>Ctrl + X</code></p>
<h3 id="paso-7">Paso 7</h3>
<p>Compruebo que no existen errores con el siguiente comando:</p>
<pre><code>enrique@enrique-server:~$ sudo netplan try
</code></pre>
<h3 id="paso-8">Paso 8</h3>
<p>Si todo es correcto aplico los cambios con el siguiente comando:</p>
<pre><code>enrique@enrique-server:~$ sudo netplan apply
</code></pre>
<h3 id="paso-9">Paso 9</h3>
<p>Reinicio el sistema para completar el proceso de cambio:</p>
<pre><code>enrique@enrique-server:~$ sudo reboot
</code></pre>
<p>Una vez iniciemos sesión ejecuto de nuevo el comando “ip a” para comprobar que los cambios realizados en la red han sido aplicados de forma correcta. Allí veré la nueva IP establecida.</p>
<h2 id="acceso-remoto-via-ssh-a-ubuntu-server-2004">Acceso remoto via ssh a Ubuntu Server 20.04</h2>
<p>Lo siguiente para poder acceder desde mi pc es instalar el servidor ssh openssh en la máquina virtual con Ubuntu.</p>
<pre><code>enrique@enrique-server:~$ sudo apt-get install ssh
</code></pre>
<p>y compruebo su estado.</p>
<pre><code>enrique@enrique-server:~$ systemctl status ssh.service
● ssh.service - OpenBSD Secure Shell server
   Loaded: loaded (/lib/systemd/system/ssh.service; enabled; vendor preset: enab
   Active: active (running) since Sun 2020-05-31 13:31:34 BST; 18min ago
  Process: 523 ExecStartPre=/usr/sbin/sshd -t (code=exited, status=0/SUCCESS)
 Main PID: 525 (sshd)
    Tasks: 5 (limit: 4915)
   CGroup: /system.slice/ssh.service
           ├─525 /usr/sbin/sshd -D
           ├─555 sshd: root@pts/0
           ├─569 -bash
           ├─860 systemctl status ssh.service
           └─861 systemctl status ssh.service
</code></pre>
<p>Todo está correcto, ya puedo habrir una terminal desde mi equipo anfitrión y conectarme vía ssh por el puerto 22 a mi servidor virtualizado. Como es un entorno de desarrollo no cambio más en el servidor ssh, pero quiero recordar que por seguridad en producción se debería haber cambiando el puerto de escucha por defecto, prohibir el cceso de root, etc, todo ello editando el archivo de configuración <code>sshd_config</code>.</p>
<pre><code>enrique@enrique-server:~$ sudo nano /etc/ssh/sshd_config
#       $OpenBSD: sshd_config,v 1.101 2017/03/14 07:19:07 djm Exp $
# This is the sshd server system-wide configuration file.  See
# sshd_config(5) for more information.
# This sshd was compiled with PATH=/usr/bin:/bin:/usr/sbin:/sbin
# The strategy used for options in the default sshd_config shipped with
# OpenSSH is to specify options with their default value where
# possible, but leave them commented.  Uncommented options override the
# default value.
#Port 22
#AddressFamily any
#ListenAddress 0.0.0.0
#ListenAddress ::
#HostKey /etc/ssh/ssh_host_rsa_key
#HostKey /etc/ssh/ssh_host_ecdsa_key
#HostKey /etc/ssh/ssh_host_ed25519_key
# Ciphers and keying
#RekeyLimit default none
</code></pre>
<p>Como dije anteriormente abro una consola en mi equipo anfitrion y tecleo <code>ssh enrique@192.168.100.160</code>, intruzco mi contraseña y ya estoy dentro:</p>
<pre><code>enrique@asuspc:~$ ssh enrique@192.168.100.160
enrique@192.168.100.160´s password: 
Welcome to Ubuntu 20.04.1 LTS (GNU/Linux 5.4.0-52-generic x86_64)
 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage
  System information as of Thu Nov  5 09:59:26 UTC 2020
  System load:  0.37               Processes:               115
  Usage of /:   23.4% of 18.57GB   Users logged in:         0
  Memory usage: 10%                IPv4 address for enp0s3: 192.168.100.160
  Swap usage:   0%

64 updates can be installed immediately.
0 of these updates are security updates.
To see these additional updates run: apt list --upgradable


Last login: Wed Nov  4 18:54:04 2020 from 192.168.100.136
enrique@enrique-server:~$ 
</code></pre>
<h2 id="prerequisitos-a-la-instalación-de-laravel">Prerequisitos a la instalación de Laravel</h2>
<p>Laravel es un marco PHP gratuito y de código abierto que implementa el patrón de diseño MVC (Model-View-Controller). Taylor Otwell lo creó en 2011 como un intento de proporcionar una alternativa avanzada al marco CodeIgniter (CI).
En 2011, Laravel lanzó la versión 1 y la versión 2. La última versión 8.x viene con más características mejoradas como esquema de versiones, política de soporte, etiquetas y mejoras de componentes Blade, operaciones de cadenas fluidas, mejoras de enlace del modelo de ruta, etc.</p>
<p>Lo ideal a la hora de trabajar con Laravel en local es instalar su máquina virtual, Laravel Homestead, que viene lista para el desarrollo de proyectos con Laravel y otras tecnologías de PHP como Symfony y Statamic. Al ser una máquina virtual nos va a permitir ejecutar nuestros proyectos sin necesidad de instalar PHP, MySQL, etc.
Cuando se tiene experiancia tanto en desarrollo como en producción con laravel, esta opción es la más cómoda. En mi caso no es la que usaré. Estoy aprendiendo a desarrollar con Laravel y quiero aprender lo mas posible al entorno de desarrollo y producción de este ecosistema.
Por lo tanto debo de preocuparme de cumplir los prerequisitos necesarios en la instalacion. Mirando en la página de laravel encuentro que son los siguientes:</p>
<ul>
<li>Apache / Nginx</li>
<li>MySQL / MariaDB</li>
<li>PHP &gt;= 7.3</li>
<li>BCMath PHP Extension</li>
<li>Ctype PHP Extension</li>
<li>Fileinfo PHP Extension</li>
<li>JSON PHP Extension</li>
<li>Mbstring PHP Extension</li>
<li>OpenSSL PHP Extension</li>
<li>PDO PHP Extension</li>
<li>Tokenizer PHP Extension</li>
<li>XML PHP Extension</li>
</ul>
<h3 id="1-instalar-el-servidor-web-apache">1 Instalar el servidor web Apache</h3>
<p>Primero, instalaré el servidor web Apache en el sistema Ubuntu 20.04 y configuraré el firewall UFW que solo permite conexiones entrantes para algunos servicios, incluidos SSH, HTTP y HTTPS.</p>
<p>Actualico todos los repositorios disponibles en el sistema e instalo el servidor web Apache.</p>
<pre><code>enrique@enrique-server:~$  sudo apt update
nrique@enrique-server:~$ sudo apt-get install apache2
[sudo] password for enrique: 
Reading package lists... Done
Building dependency tree       
Reading state information... Done
The following additional packages will be installed:
  apache2-bin apache2-data apache2-utils libapr1 libaprutil1 libaprutil1-dbd-sqlite3
  libaprutil1-ldap libjansson4 liblua5.2-0 ssl-cert
Suggested packages:
  apache2-doc apache2-suexec-pristine | apache2-suexec-custom www-browser openssl-blacklist
The following NEW packages will be installed:
  apache2 apache2-bin apache2-data apache2-utils libapr1 libaprutil1 libaprutil1-dbd-sqlite3
  libaprutil1-ldap libjansson4 liblua5.2-0 ssl-cert
0 upgraded, 11 newly installed, 0 to remove and 3 not upgraded.
Need to get 1865 kB of archives.
After this operation, 8080 kB of additional disk space will be used.
Do you want to continue? [Y/n] 

</code></pre>
<p>Una vez completada la instalación, inicio el servicio Apache y lo agréguo al inicio del sistema.</p>
<pre><code>enrique@enrique-server:~$  sudo systemctl start apache2
enrique@enrique-server:~$  sudo systemctl enable apache2
</code></pre>
<p>Ahora verifico el estado del servicio Apache usando el siguiente comando.</p>
<pre><code>enrique@enrique-server:~$ sudo systemctl status apache2
● apache2.service - The Apache HTTP Server
     Loaded: loaded (/lib/systemd/system/apache2.service; enabled; vendor preset: enabled)
     Active: active (running) since Thu 2020-11-05 11:12:19 UTC; 2min 23s ago
       Docs: https://httpd.apache.org/docs/2.4/
   Main PID: 19476 (apache2)
      Tasks: 55 (limit: 2282)
     Memory: 5.1M
     CGroup: /system.slice/apache2.service
             ├─19476 /usr/sbin/apache2 -k start
             ├─19478 /usr/sbin/apache2 -k start
             └─19479 /usr/sbin/apache2 -k start

Nov 05 11:12:19 enrique-server systemd[1]: Starting The Apache HTTP Server...
Nov 05 11:12:19 enrique-server apachectl[19475]: AH00558: apache2: Could not reliably determine t&gt;
Nov 05 11:12:19 enrique-server systemd[1]: Started The Apache HTTP Server.
lines 1-15/15 (END)
</code></pre>
<p>Como resultado, el servicio Apache está en funcionamiento.</p>
<p>Luego, agreguo los servicios SSH, HTTP y HTTPS al firewall UFW usando el siguiente comando.</p>
<pre><code>for svc in ssh http https
do 
ufw allow $svc
done
</code></pre>
<p>Ahora habilito los servicios de firewall de UFW.</p>
<pre><code>sudo ufw enable
</code></pre>
<p>Escribo ' y ' para continuar y se habrá habilitado el firewall UFW.
A continuación, abro su navegador web y escriba la dirección IP de su servidor en la barra de direcciones.
<code>http://10.5.5.25/</code>
Y obtengo la página index.html predeterminada de Apache.
<img src="1.png" alt="">
Como resultado, puedo afirmar que se completaron correctamente la instalación del servidor web Apache y la configuración del firewall UFW.</p>
<h3 id="2-instalar-y-configurar-php-74">2 Instalar y configurar PHP 7.4</h3>
<p>En este paso, instalaremos y configuraremos PHP 7.4 para nuestra instalación de Laravel. Para instalar Laravel 8.x, al menos debe tener PHP&gt; = 7.2.5 en su sistema. Y, de forma predeterminada, el repositorio oficial de Ubuntu 20.04 proporciona paquetes PHP 7.4.</p>
<p>Instalé paquetes PHP 7.4 usando el comando apt <code>sudo apt install libapache2-mod-php php php-common php-mysql php-xml php-gd php-opcache php-mbstring php-tokenizer php-json php-bcmath php-zip unzip</code>.</p>
<pre><code>enrique@enrique-server:~$ sudo apt install libapache2-mod-php php php-common php-mysql php-xml php-gd php-opcache php-mbstring php-tokenizer php-json php-bcmath php-zip unzip
[sudo] password for enrique: 
Reading package lists... Done
Building dependency tree       
Reading state information... Done
Note, selecting 'php7.4-opcache' instead of 'php-opcache'
The following additional packages will be installed:
  fontconfig-config fonts-dejavu-core libapache2-mod-php7.4 libfontconfig1 libgd3 libjbig0
  libjpeg-turbo8 libjpeg8 libonig5 libtiff5 libwebp6 libxpm4 libzip5 php7.4 php7.4-bcmath
  php7.4-cli php7.4-common php7.4-gd php7.4-json php7.4-mbstring php7.4-readline php7.4-xml
  php7.4-zip
Suggested packages:
  php-pear libgd-tools zip
The following NEW packages will be installed:
  fontconfig-config fonts-dejavu-core libapache2-mod-php libapache2-mod-php7.4 libfontconfig1
  libgd3 libjbig0 libjpeg-turbo8 libjpeg8 libonig5 libtiff5 libwebp6 libxpm4 libzip5 php
  php-bcmath php-common php-gd php-json php-mbstring php-tokenizer php-xml php-zip php7.4
  php7.4-bcmath php7.4-cli php7.4-common php7.4-gd php7.4-json php7.4-mbstring php7.4-opcache
  php7.4-readline php7.4-xml php7.4-zip unzip
0 upgraded, 35 newly installed, 0 to remove and 3 not upgraded.
Need to get 6785 kB of archives.
After this operation, 27.0 MB of additional disk space will be used.
Do you want to continue? [Y/n] 

</code></pre>
<p>Una vez completada toda la instalación, voy al directorio <code>/etc/php/7.4/</code> y edito la configuración de <code>php.ini</code> para el servidor web Apache2.</p>
<pre><code>cd /etc/php/7.4/
nano apache2/php.ini
</code></pre>
<p>Descomento la opción &lsquo;cgi.fix_pathinfo&rsquo; y cambio el valor a &lsquo;0&rsquo;, <code>cgi.fix_pathinfo=0</code></p>
<pre><code>  GNU nano 4.8                             apache2/php.ini                              Modified  
; every request. PHP's default behavior is to disable this feature.
;cgi.nph = 1

; if cgi.force_redirect is turned on, and you are not running under Apache or Netscape
; (iPlanet) web servers, you MAY need to set an environment variable name that PHP
; will look for to know it is OK to continue execution.  Setting this variable MAY
; cause security issues, KNOW WHAT YOU ARE DOING FIRST.
; http://php.net/cgi.redirect-status-env
;cgi.redirect_status_env =

; cgi.fix_pathinfo provides *real* PATH_INFO/PATH_TRANSLATED support for CGI.  PHP's
; previous behaviour was to set PATH_TRANSLATED to SCRIPT_FILENAME, and to not grok
; what PATH_INFO is.  For more information on PATH_INFO, see the cgi specs.  Setting
; this to 1 will cause PHP CGI to fix its paths to conform to the spec.  A setting
; of zero causes PHP to behave as before.  Default is 1.  You should fix your scripts
; to use SCRIPT_FILENAME rather than PATH_TRANSLATED.
; http://php.net/cgi.fix-pathinfo
;cgi.fix_pathinfo=1
cgi.fix_pathinfo=0


^G Get Help     ^O Write Out    ^W Where Is     ^K Cut Text     ^J Justify      ^C Cur Pos
^X Exit         ^R Read File    ^\ Replace      ^U Paste Text   ^T To Spell     ^_ Go To Line
</code></pre>
<p>Guardar y cerrar.</p>
<p>A continuación, reinicio el servicio Apache para aplicar la nueva configuración &lsquo;php.ini&rsquo;.</p>
<pre><code>enrique@enrique-server:~$ sudo systemctl restart apache2
</code></pre>
<p>Como resultado, la configuración básica de PHP 7.4 se ha completado con éxito.</p>
<h3 id="3-instalar-la-administración-de-paquetes-php-de-composer">3 Instalar la administración de paquetes PHP de Composer</h3>
<p>Composer es un administrador de dependencias para PHP. Es un administrador de paquetes a nivel de aplicación para PHP que le permite descargar bibliotecas y dependencias PHP adicionales a su proyecto PHP.</p>
<p>En este tutorial, usaré Composer para instalar Laravel e instalaré Composer descargando el archivo binario desde el sitio web oficial de Composer.</p>
<p>Descargué el archivo binario del Composer y lo muevo al directorio &lsquo;/ usr / local / bin&rsquo;.</p>
<pre><code class="language-php">enrique@enrique-server:~$ sudo curl -sS https://getcomposer.org/installer | php
All settings correct for using Composer
Downloading...

Composer (version 2.0.4) successfully installed to: /home/enrique/composer.phar
Use it: php composer.phar

enrique@enrique-server:~$ sudo mv composer.phar /usr/local/bin/composer
</code></pre>
<p>Después de eso, verifico la versión de Composer usando el siguiente comando.</p>
<pre><code>enrique@enrique-server:~$ composer --version
Composer version 2.0.4 2020-10-30 22:39:11
</code></pre>
<h3 id="4-instalar-servidor-mysql">4 Instalar servidor MySQL</h3>
<p>Los paquetes del servidor MySQL 8.0 están disponibles en los repositorios predeterminados en Ubuntu 20.04. Después de iniciar sesión en su servidor, actualice apt cache y ejecute los paquetes de instalación. Para instalar el tipo de servidor MySQL:</p>
<pre><code>enrique@enrique-server:~$ sudo apt-get install mysql-server
[sudo] password for enrique: 
Reading package lists... Done
Building dependency tree       
Reading state information... Done
The following additional packages will be installed:
  libcgi-fast-perl libcgi-pm-perl libencode-locale-perl libevent-core-2.1-7
  libevent-pthreads-2.1-7 libfcgi-perl libhtml-parser-perl libhtml-tagset-perl
  libhtml-template-perl libhttp-date-perl libhttp-message-perl libio-html-perl
  liblwp-mediatypes-perl libmecab2 libtimedate-perl liburi-perl mecab-ipadic
  mecab-ipadic-utf8 mecab-utils mysql-client-8.0 mysql-client-core-8.0
  mysql-common mysql-server-8.0 mysql-server-core-8.0
Suggested packages:
  libdata-dump-perl libipc-sharedcache-perl libwww-perl mailx tinyca
The following NEW packages will be installed:
  libcgi-fast-perl libcgi-pm-perl libencode-locale-perl libevent-core-2.1-7
  libevent-pthreads-2.1-7 libfcgi-perl libhtml-parser-perl libhtml-tagset-perl
  libhtml-template-perl libhttp-date-perl libhttp-message-perl libio-html-perl
  liblwp-mediatypes-perl libmecab2 libtimedate-perl liburi-perl mecab-ipadic
  mecab-ipadic-utf8 mecab-utils mysql-client-8.0 mysql-client-core-8.0
  mysql-common mysql-server mysql-server-8.0 mysql-server-core-8.0
0 upgraded, 25 newly installed, 0 to remove and 3 not upgraded.
Need to get 30.7 MB of archives.
After this operation, 249 MB of additional disk space will be used.
Do you want to continue? [Y/n] 
</code></pre>
<p>Espero a que el administrador de paquetes complete la instalación.
Después de finalizar la instalación, el servicio MySQL se iniciará automáticamente. Para comprobar el tipo de estado del servicio:</p>
<pre><code>enrique@enrique-server:~$ sudo systemctl status mysql
● mysql.service - MySQL Community Server
     Loaded: loaded (/lib/systemd/system/mysql.service; enabled; vendor preset: enabled)
     Active: active (running) since Thu 2020-11-05 21:06:59 UTC; 1min 18s ago
   Main PID: 1767 (mysqld)
     Status: &quot;Server is operational&quot;
      Tasks: 37 (limit: 2282)
     Memory: 331.8M
     CGroup: /system.slice/mysql.service
             └─1767 /usr/sbin/mysqld

Nov 05 21:06:54 enrique-server systemd[1]: Starting MySQL Community Server...
Nov 05 21:06:59 enrique-server systemd[1]: Started MySQL Community Server.
</code></pre>
<h3 id="5--asegurando-el-servidor-mysql">5  Asegurando el servidor mysql</h3>
<p>En esta etapa, el servidor MySQL aún no está protegido. Puede cambiar al usuario root de su sistema y conectarse al servidor MySQL. No solicitará ninguna contraseña.</p>
<p>Entonces, aquí necesito asegurar el servidor MySQL. Los paquetes proporcionan un script para hacerlo. Ejecuto el siguiente comando para la configuración inicial de mi servidor MySQL. El script solicitará más configuraciones que las versiones anteriores de MySQL, como la política de validación de contraseña, etc.</p>
<pre><code>enrique@enrique-server:~$ sudo mysql_secure_installation
</code></pre>
<p>Sigo las instrucciones en pantalla para finalizar el asistente. Todas las entradas del usuario están resaltadas en el asistente a continuación. Esto creará una contraseña para el usuario raíz, eliminará la base de datos de prueba y el usuario para proteger el servidor de la base de datos.</p>
<pre><code>enrique@enrique-server:~$ sudo mysql_secure_installation

Securing the MySQL server deployment.

Connecting to MySQL using a blank password.

VALIDATE PASSWORD COMPONENT can be used to test passwords
and improve security. It checks the strength of password
and allows the users to set only those passwords which are
secure enough. Would you like to setup VALIDATE PASSWORD component?

Press y|Y for Yes, any other key for No: y

There are three levels of password validation policy:

LOW    Length &gt;= 8
MEDIUM Length &gt;= 8, numeric, mixed case, and special characters
STRONG Length &gt;= 8, numeric, mixed case, special characters and dictionary                  file

Please enter 0 = LOW, 1 = MEDIUM and 2 = STRONG: 0
Please set the password for root here.

New password: esaborit

Re-enter new password: esaborit

Estimated strength of the password: 50 
Do you wish to continue with the password provided?(Press y|Y for Yes, any other key for No) : y
By default, a MySQL installation has an anonymous user,
allowing anyone to log into MySQL without having to have
a user account created for them. This is intended only for
testing, and to make the installation go a bit smoother.
You should remove them before moving into a production
environment.

Remove anonymous users? (Press y|Y for Yes, any other key for No) : y
Success.


Normally, root should only be allowed to connect from
'localhost'. This ensures that someone cannot guess at
the root password from the network.

Disallow root login remotely? (Press y|Y for Yes, any other key for No) : y
Success.

By default, MySQL comes with a database named 'test' that
anyone can access. This is also intended only for testing,
and should be removed before moving into a production
environment.


Remove test database and access to it? (Press y|Y for Yes, any other key for No) : y
 - Dropping test database...
Success.

 - Removing privileges on test database...
Success.

Reloading the privilege tables will ensure that all changes
made so far will take effect immediately.

Reload privilege tables now? (Press y|Y for Yes, any other key for No) : y
Success.

All done! 

</code></pre>
<h3 id="6-administrando-el-servidor-mysql">6 Administrando el servidor MySQL</h3>
<p>El servicio MySQL se administra bajo el administrador de servicios systemd. Puedo usar los comandos systemctl predeterminados para administrar el servicio de base de datos en la línea de comandos. A continuación se muestran algunos comandos de uso frecuente para administrar el servicio:</p>
<ul>
<li>Para detener el servicio MySQL, escriba: <code>sudo systemctl detener mysql</code></li>
<li>Para iniciar el servicio MySQL, escriba: <code>sudo systemctl iniciar mysql</code></li>
<li>Deténgase y luego inicie el servicio MySQL, escriba: <code>sudo systemctl reiniciar mysql</code></li>
<li>Para ver el estado del servicio MySQL, escriba: <code>sudo systemctl estado mysql</code></li>
</ul>
<h3 id="7-conectandome-al-servidor-mysql">7 Conectandome al servidor MySQL</h3>
<p>He instalado y asegurado correctamente el servidor de base de datos MySQL en mi sistema Ubuntu 20.04. Ahora me conecto a mi servidor de base de datos en la línea de comandos con el siguiente comando.</p>
<pre><code>enrique@enrique-server:~$ mysql -u root -p
Enter password: 
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 14
Server version: 8.0.22-0ubuntu0.20.04.2 (Ubuntu)

Copyright (c) 2000, 2020, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql&gt; 
</code></pre>
<blockquote>
<p>Nota: Cuando instala MySQL e intenta acceder a él en la máquina local con el usuario root , el comando que usa es:mysql -u root -p. En la mayoría de los casos, recibirá el mensaje de error: ERROR 1698 (28000): Access denied for user &lsquo;root&rsquo;@&lsquo;localhost&rsquo;.
Para poder iniciar sesión en MySQL como root, primero use sudo para modificar el usuario root:<code>sudo mysql</code>. Utilice el comando <code>ALTER USER</code> y cambie el método de autenticación para iniciar sesión en MySQL como root : <code>ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'esaborit';</code>
<img src="4.png" alt="">
Ya puedo entrar como root.</p>
</blockquote>
<h3 id="8-creo-un-usuario-y-una-base-de-datos-mysql-para-mi-proyecto-en-laravel">8 Creo un usuario y una base de datos MySQL para mi proyecto en Laravel</h3>
<p>Como me he conectado al servidor MySQL en la línea de comandos. El servidor de base de datos está listo para que sus aplicaciones almacenen datos.</p>
<p>Crearé un usuario de base de datos independiente para conectar la base de datos mediante la aplicación. Utilice los siguientes comandos para crear una base de datos en MySQL. Luego crearé un usuario y le asignaré privilegios en la base de datos.</p>
<pre><code class="language-sql">mysql&gt; CREATE DATABASE laravel_proyecto1;
Query OK, 1 row affected (0.46 sec)

mysql&gt; CREATE USER 'laraveluser'@'localhost' IDENTIFIED BY 'Laravel_user1';
Query OK, 0 rows affected (0.37 sec)

mysql&gt; GRANT ALL PRIVILEGES ON laravel_proyecto1.* TO 'laraveluser'@'localhost'; 
Query OK, 0 rows affected (0.29 sec)

mysql&gt; FLUSH PRIVILEGES;
Query OK, 0 rows affected (0.15 sec)

</code></pre>
<h2 id="instalación-de-laravel-8x-en-ubuntu-2004">Instalación de Laravel 8.x en Ubuntu 20.04</h2>
<p>Para este paso, voy a describir dos formas diferentes de instalar el marco web de Laravel. Instalaré Laravel a través del Instalador de Laravel y a través de Composer.
Esta sección instalará el marco web de Laravel con el usuario no root llamado &lsquo;enrique&rsquo;.</p>
<blockquote>
<p>Nota: En mi caso el usuario ya existe y si tiene privilegios de sudo que no utilizo para instalar laravel
Se puede agregar el usuario y configurar su contraseña usando el siguiente comando.</p>
</blockquote>
<pre><code>useradd -m -s /bin/bash enrique
passwd enrique
</code></pre>
<p>Después de eso, inicie sesión con el usuario &lsquo;enrique&rsquo;.</p>
<pre><code>su - enrique
</code></pre>
<h3 id="1-instalando-laravel-via-composer-create-project">1 Instalando Laravel Via Composer create-project</h3>
<p>Una forma de instalar el marco web de Laravel es mediante la gestión de paquetes PHP de Composer.
Para instalar Laravel, me dirijo al directorio &ldquo;proyectos_laravel&rdquo; que he creado en mi directorio personal. Como estamos en Ubuntu y usando Apache,otra opción poría ser instalarlo en el directorio /var/www/laravel. Pero voy a usar Visual Studio como IDE de desarrollo y accederé vía ssh al servidor con Ubuntu y me resulta mas cómodo trabajar desde mi directorio personal.</p>
<pre><code>enrique@enrique-server:~$ cd /home/proyectos_laravel/
enrique@enrique-server:/var/www/laravel$ sudo composer create-project --prefer-dist laravel/laravel prueba1
</code></pre>
<p>El comando anterior creará el directorio «prueba1» con la instalación de Laravel. Composer usa git para descargar e instalar todos los paquetes y módulos que Laravel requiere para funcionar.</p>
<pre><code>enrique@enrique-server:~/proyectos_laravel$ composer create-project --prefer-dist laravel/laravel prueba1
Creating a &quot;laravel/laravel&quot; project at &quot;./prueba1&quot;
Installing laravel/laravel (v8.4.0)
  - Downloading laravel/laravel (v8.4.0)
  - Installing laravel/laravel (v8.4.0): Extracting archive
Created project in /home/enrique/proyectos_laravel/prueba1
&gt; @php -r &quot;file_exists('.env') || copy('.env.example', '.env');&quot;
Loading composer repositories with package information
Updating dependencies
Lock file operations: 104 installs, 0 updates, 0 removals
  - Locking asm89/stack-cors (v2.0.2)
  - Locking brick/math (0.9.1)
  - Locking dnoegel/php-xdg-base-dir (v0.1.1)
  - Locking doctrine/inflector (2.0.3)
  - Locking doctrine/instantiator (1.3.1)
  - Locking doctrine/lexer (1.2.1)
  - Locking dragonmantank/cron-expression (v3.0.2)
  .........
</code></pre>
<p><img src="7.png" alt=""></p>
<p>A continuación, cambie la propiedad del directorio del proyecto &lsquo;prueba1&rsquo; al usuario &lsquo;www-data&rsquo; y haga que se pueda escribir en el directorio &lsquo;storage&rsquo;.</p>
<pre><code>enrique@enrique-server:~$ sudo chown -R www-data:www-data /home/enrique/proyectos_laravel/prueba1
enrique@enrique-server:~$ sudo chmod -R 775 /home/enrique/proyectos_laravel/prueba1/storage
</code></pre>
<p>Como resultado, ha instalado el marco web de Laravel usando el comando Composer.</p>
<p><img src="9.png" alt=""></p>
<h4 id="12-configuracion-de-apache-para-el-proyecto-prueba1-en-laravel">1.2 Configuracion de Apache para el proyecto prueba1 en Laravel</h4>
<p>En este paso, configuraremos el host virtual Apache para el proyecto prueba1.</p>
<p>Ahora voy al directorio &lsquo;/etc/apache/sites-available&rsquo; y creo con el editor nano una nueva configuración de host virtual llamada &lsquo;prueba1.conf&rsquo;.</p>
<pre><code>cd /etc/apache2/sites-available/
sudo nano prueba1.conf
</code></pre>
<p>Cambio el nombre de dominio y el directorio root por el mio y peguo la configuración en él.</p>
<pre><code>&lt;VirtualHost *:80&gt;
    ServerName prueba1.com
    ServerAdmin admin@prueba1.com
    DocumentRoot /home/enrique/proyectos_laravel/prueba1/public

    &lt;Directory /home/enrique/proyectos_laravel/prueba1/&gt;
          Options Indexes FollowSymLinks MultiViews
          AllowOverride All
          Order Allow,Deny
          Allow from all
          Require all granted
    &lt;/Directory&gt;

    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined
&lt;/VirtualHost&gt;

&lt;VirtualHost *:80&gt;
    ServerName proyectolaravel_1.com
    ServerAdmin admin@proyectolaravel_1.com
    DocumentRoot /var/www/laravel/proyectolaravel_1/public

    &lt;Directory /var/www/laravel/proyectolaravel_1/&gt;
          Options Indexes FollowSymLinks MultiViews
          AllowOverride All
          Order Allow,Deny
          Allow from all
          Require all granted
    &lt;/Directory&gt;

    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined
&lt;/VirtualHost&gt;

</code></pre>
<p>Guardar y cerrar.</p>
<p>A continuación, activo el módulo de reescritura de Apache y la configuración del host virtual de Laravel usando el siguiente comando.</p>
<pre><code>sudo a2enmod rewrite
sudo a2ensite laravel.conf
</code></pre>
<p>Después de eso, pruebo la configuración de Apache, asegúrese de que no haya ningún error y reinicie el servicio Apache.</p>
<pre><code>apachectl configtest
systemctl restart apache2
</code></pre>
<p>Con esto, completo la configuración del host virtual Apache para Laravel. Puedo acceder a prueba1.com desde un navegador web de mi pc anfitrión con solo modificar el hosts.</p>
<p><img src="8.png" alt=""></p>
<h3 id="2-instalando-laravel-con-su-instalador">2 Instalando Laravel con su instalador</h3>
<p>Hay una alternativa para instalar Laravel y es con su instalador, que también es un paquete, por tanto, también usaremos Composer para instalarlo de forma global con el comando:</p>
<pre><code>enrique@enrique-server:~$ composer global require &quot;laravel/installer&quot;
</code></pre>
<p>Luego, nos tenemos que asegurar que la variable de entorno PATH del sistema operativo tenga incluido el directorio donde se alojan los paquetes instalados globalmente y así se puedan ejecutar sin ningún problema, para ello debemos agregar su ruta:</p>
<p>Para MacOs y Linux la variable PATH la podemos definir en <code>~/.bashrc o ~/.bash_profile</code>:</p>
<pre><code>enrique@enrique-server:~$ sudo nano ~/.bashrc
</code></pre>
<p>donde la ruta a añadir al final de lo que tiene asignado la variable es:</p>
<pre><code>export PATH=&quot;$HOME/.config/composer/vendor/bin:$PATH&quot;
</code></pre>
<p>Para Windows debes modificar la variable de entorno PATH para agregar la ruta</p>
<pre><code>;C:\Users\tu-usuario\AppData\Roaming\Composer\vendor\bin
</code></pre>
<p>Ahora cargo la nueva versión de la configuración <code>~ / .bashrc</code> y verifico la variable de entorno <code>$ PATH</code>. A continuación se muestra el resultado que obtendrá.</p>
<pre><code>enrique@enrique-server:~$ source ~/.bashrc
enrique@enrique-server:~$ echo $PATH
/home/enrique/.config/composer/vendor/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin
</code></pre>
<p>Bien, de esta manera ya tenemos disponible el instalador de Laravel, por tanto, podemos ejecutar desde cualquier directorio:</p>
<pre><code>laravel new nombre-proyecto
</code></pre>
<p>y se instalará tal y como se hizo con el comando <code>composer create-project</code>.</p>
<h3 id="accesibilidad-del-proyecto-laravel-desde-apache">Accesibilidad del proyecto laravel desde APACHE</h3>
<p>Para que el servidor web Apache acceda al directorio de su proyecto de Laravel, cambie el propietario del grupo del directorio del proyecto al grupo &lsquo;www-data&rsquo; y haga que el directorio de &lsquo;almacenamiento&rsquo; se pueda escribir.</p>
<pre><code>enrique@enrique-server:~$ sudo chgrp -R www-data /var/www/laravel/blog
enrique@enrique-server:~$ sudo chmod -R 775 /var/www/laravel/blog/storage
</code></pre>
<p>El proyecto está listo para configurar el host virtual Apache para su proyecto Laravel.</p>
<p><strong>Cómo configurar una identificación de grupo en un directorio</strong>:</p>
<pre><code>chmod 2775 /var/www
</code></pre>
<p>El 2 delante de 775 hace que el grupo que es el propietario de <code>/var/www</code> se copie en todos los archivos/carpetas nuevos creados en ese directorio.</p>
<p>También hay otras opciones además de 2:</p>
<p>0: setuid, setgid, sticky bits are unset</p>
<p>1: sticky bit is in place</p>
<p>2: setgid bit is in place</p>
<p>3: setgid and sticky bits are in place</p>
<p>4: setuid bit is in place</p>
<p>5: setuid and sticky bits are in place</p>
<p>6: setuid and setgid bits are on</p>
<p>7: setuid, setgid, sticky bits are activated</p>
<h2 id="borrando-la-cache-de-la-aplicación">Borrando la cache de la aplicación</h2>
<p><strong>Almacenamiento en caché de configuración</strong><br>
La configuración de laravel se extiende a través de docenas de archivos, e including cada uno de ellos para cada solicitud es un proceso costoso. Para combinar todos tus archivos de configuración en uno.</p>
<pre><code> php artisan config:cache 
</code></pre>
<p>Tenga en cuenta que cualquier cambio en la configuración no tendrá ningún efecto una vez que lo haya almacenado en caché. Para actualizar la caché de configuración, vuelva a ejecutar el comando anterior. En caso de que quiera deshacerse completamente de la caché de configuración, ejecute 1</p>
<pre><code> php artisan config:clear 
</code></pre>
<p><strong>Enrutamiento de caché de rutas</strong><br>
El enrutamiento también es una tarea costosa en laravel. Para almacenar en caché el archivo routes.php, ejecute el siguiente comando: 1</p>
<pre><code> php artisan route:cache 
</code></pre>
<p>Tenga en cuenta que no funciona con cierres. En caso de que esté utilizando cierres, esta es una gran oportunidad para moverlos a un controlador, ya que el comando artesanal arrojará una excepción cuando intente comstackr rutas que estén unidas a cierres en lugar de a un método de control adecuado. Al igual que la caché de configuración, cualquier cambio en routes.php ya no tendrá ningún efecto. Para actualizar la memoria caché, ejecute el comando anterior cada vez que realice un cambio en el archivo de rutas. Para deshacerse completamente de la caché de ruta, ejecute el siguiente comando: 1</p>
<pre><code> php artisan route:clear 
</code></pre>
<p><strong>Optimización de Classmap</strong></p>
<p>No es raro que un proyecto de tamaño mediano se extienda a través de cientos de archivos PHP. Como los buenos comportamientos de encoding nos dictan, todo tiene su propio archivo. Esto, por supuesto, no viene sin inconvenientes. Laravel tiene que incluir docenas de archivos diferentes para cada solicitud, lo cual es una tarea costosa.</p>
<p>Por lo tanto, un buen método de optimización es declarar qué archivos se utilizan para cada solicitud (esto es, por ejemplo, todos sus proveedores de servicios, middleware y algunos más) y combinarlos en un solo archivo, que luego se cargará para cada solicitud. Esto no es diferente de combinar todos tus archivos javascript en uno, por lo que el navegador tendrá que hacer menos solicitudes al servidor.</p>
<p>Los archivos de comstackción adicionales (una vez más: proveedores de servicios, middleware, etc.) deben ser declarados por usted en config / compile.php, en la clave de archivos. Una vez que coloque allí todo lo esencial para cada solicitud hecha a su aplicación, concatenarlos en un archivo con: 1</p>
<pre><code> php artisan optimize --force 
</code></pre>
<p><strong>Optimizar la autocarga del compositor</strong></p>
<p>Este no es solo para laravel, sino para cualquier aplicación que esté haciendo uso del compositor.</p>
<p>Primero explicaré cómo funciona la carga automática del PSR-4, y luego le mostraré qué comando debe ejecutar para optimizarlo. Si no está interesado en saber cómo funciona el compositor, le recomiendo que salte directamente al comando de la consola.</p>
<p>Cuando le pides a compsoser la clase <code>App\Controllers\AuthController</code>, primero busca una asociación directa en el mapa de clases. El mapa de clases es una matriz con asociaciones de clases y archivos de 1 a 1. Como, por supuesto, no agregó manualmente la clase de inicio de sesión y su archivo asociado al mapa de clases, el compositor continuará y buscará en los espacios de nombres. Como App es un espacio de nombres PSR-4, que viene por defecto con Laravel y está asociado a la aplicación/carpeta, el compositor intentará convertir el nombre de la clase PSR-4 en un nombre de archivo con procedimientos básicos de manipulación de cadenas. Al final, adivina que <code>App\Controllers\AuthController</code> debe estar ubicado en un archivo <code>AuthController.php</code>, que se encuentra en una carpeta de Controladores que afortunadamente debe estar en la carpeta del espacio de nombres, que es la aplicación /.</p>
<p>Todo este trabajo duro solo para conseguir que la clase <code>App\Controllers\AuthController</code> exista en el archivo <code>app/Controllers/AuthController.php</code>. Para que el compositor explore toda la aplicación y cree asociaciones directas de clases y archivos de 1 a 1, ejecute el siguiente comando:</p>
<pre><code> composer dumpautoload -o 
</code></pre>
<p>Tenga en cuenta que si ya ejecutó <code>php artisan optimize –force</code>, ya no tiene que ejecutar este. Dado que el comando de optimización ya le dice al compositor que cree una carga automática optimizada.</p>
<h3 id="clear-cache">Clear Cache:</h3>
<pre><code>php artisan cache:clear
</code></pre>
<h3 id="clear-route-cache">Clear Route Cache:</h3>
<pre><code>php artisan route:cache
</code></pre>
<h3 id="clear-view-cache">Clear View Cache:</h3>
<pre><code>php artisan view:clear
</code></pre>
<h3 id="clear-config-cache">Clear Config Cache:</h3>
<pre><code>php artisan config:cache
</code></pre>
<p>You can also clear cache without command using route. so you can create route as like bellow:</p>
<pre><code>Route::get('/clear-cache-all', function() {
    Artisan::call('cache:clear');
  
    dd(&quot;Cache Clear All&quot;);
});
</code></pre>
        </div>
        
        <div class="my-4">
    
    <a href="https://esaborit.github.io/tags/github/" class="inline-block bg-tertiary-bg text-sm rounded px-3 py-1 my-1 mr-2 hover:text-eureka">#Github</a>
    
    <a href="https://esaborit.github.io/tags/laravel/" class="inline-block bg-tertiary-bg text-sm rounded px-3 py-1 my-1 mr-2 hover:text-eureka">#Laravel</a>
    
</div>
        
        
        
        
        
        <div class="py-2">
    
    <div class="flex flex-col md:flex-row items-center my-8">
        <a href="https://esaborit.github.io/authors/enrique_saborit/" class="w-24 h-24 md:mr-4">
            
            
            <i class="fas fa-user-circle fa-6x"></i>
            
        </a>
        <div class="w-full md:w-auto mt-4 md:mt-0">
            <a href="https://esaborit.github.io/authors/enrique_saborit/" class="block font-bold text-lg pb-1 mb-2 border-b">Enrique Saborit</a>
            <span class="block pb-2">«No se puede enseñar nada a un hombre; sólo se le puede ayudar a encontrar la respuesta dentro de sí mismo». Galileo Galilei (1564 - 1642) </span>
            
            
            <a href="https://github.com/esaborit" class="mr-1">
                <i class="fab fa-github"></i>
            </a>
            
            
            <a href="https://gitlab.com/esaborit" class="mr-1">
                <i class="fab fa-gitlab"></i>
            </a>
            
        </div>
    </div>
    
</div>
        
        
        
<div class="flex flex-col md:flex-row md:justify-between -mx-2 mt-4 px-2 pt-4 border-t">
    <div>
        
        <span class="block font-bold">Anterior</span>
        <a href="https://esaborit.github.io/posts/clonar-proyecto-laravel-desde-github/" class="block">Crear un proyecto laravel desde un repositorio en Github</a>
        
    </div>
    <div class="md:text-right mt-4 md:mt-0">
        
        <span class="block font-bold">Siguiente</span>
        <a href="https://esaborit.github.io/posts/recursos-compartidos-debian-buster/" class="block">Compartiendo recursos con Samba en Debian 10 Buster</a>
        
    </div>
</div>

        
    </div>
    
    <div class="col-span-2">
        
        
<div class="bg-secondary-bg rounded p-6">
    <h3 class="text-lg font-semibold mb-4">Series de artículos</h3>
    <div class="content">
        
        
        <a href="https://esaborit.github.io/posts/clonar-proyecto-laravel-desde-github/">Crear un proyecto laravel desde un repositorio en Github</a>
        <br />
        
        <a href="https://esaborit.github.io/posts/configurando-entorno-de-desarrollo-con-laravel-en-ubuntu-server-20-04/">Configuración de un entorno de desarrollo con Laravel en Ubuntu Server 20.04</a>
        <br />
        
        
    </div>
</div>
        
        
        <div class="sticky top-16 z-10 hidden lg:block px-6 py-4  bg-primary-bg ">
    <span class="text-lg font-semibold">Secciones</span>
</div>
<div class="sticky-toc hidden lg:block px-6 pb-6 ">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#configurar-una-dirección-ip-estática-en-ubuntu-server-2004">Configurar una dirección IP estática en Ubuntu Server 20.04</a>
      <ul>
        <li><a href="#paso-1">Paso 1</a></li>
        <li><a href="#paso-2">Paso 2</a></li>
        <li><a href="#paso-3">Paso 3</a></li>
        <li><a href="#paso-4">Paso 4</a></li>
        <li><a href="#paso-5">Paso 5</a></li>
        <li><a href="#paso-6">Paso 6</a></li>
        <li><a href="#paso-7">Paso 7</a></li>
        <li><a href="#paso-8">Paso 8</a></li>
        <li><a href="#paso-9">Paso 9</a></li>
      </ul>
    </li>
    <li><a href="#acceso-remoto-via-ssh-a-ubuntu-server-2004">Acceso remoto via ssh a Ubuntu Server 20.04</a></li>
    <li><a href="#prerequisitos-a-la-instalación-de-laravel">Prerequisitos a la instalación de Laravel</a>
      <ul>
        <li><a href="#1-instalar-el-servidor-web-apache">1 Instalar el servidor web Apache</a></li>
        <li><a href="#2-instalar-y-configurar-php-74">2 Instalar y configurar PHP 7.4</a></li>
        <li><a href="#3-instalar-la-administración-de-paquetes-php-de-composer">3 Instalar la administración de paquetes PHP de Composer</a></li>
        <li><a href="#4-instalar-servidor-mysql">4 Instalar servidor MySQL</a></li>
        <li><a href="#5--asegurando-el-servidor-mysql">5  Asegurando el servidor mysql</a></li>
        <li><a href="#6-administrando-el-servidor-mysql">6 Administrando el servidor MySQL</a></li>
        <li><a href="#7-conectandome-al-servidor-mysql">7 Conectandome al servidor MySQL</a></li>
        <li><a href="#8-creo-un-usuario-y-una-base-de-datos-mysql-para-mi-proyecto-en-laravel">8 Creo un usuario y una base de datos MySQL para mi proyecto en Laravel</a></li>
      </ul>
    </li>
    <li><a href="#instalación-de-laravel-8x-en-ubuntu-2004">Instalación de Laravel 8.x en Ubuntu 20.04</a>
      <ul>
        <li><a href="#1-instalando-laravel-via-composer-create-project">1 Instalando Laravel Via Composer create-project</a>
          <ul>
            <li><a href="#12-configuracion-de-apache-para-el-proyecto-prueba1-en-laravel">1.2 Configuracion de Apache para el proyecto prueba1 en Laravel</a></li>
          </ul>
        </li>
        <li><a href="#2-instalando-laravel-con-su-instalador">2 Instalando Laravel con su instalador</a></li>
        <li><a href="#accesibilidad-del-proyecto-laravel-desde-apache">Accesibilidad del proyecto laravel desde APACHE</a></li>
      </ul>
    </li>
    <li><a href="#borrando-la-cache-de-la-aplicación">Borrando la cache de la aplicación</a>
      <ul>
        <li><a href="#clear-cache">Clear Cache:</a></li>
        <li><a href="#clear-route-cache">Clear Route Cache:</a></li>
        <li><a href="#clear-view-cache">Clear View Cache:</a></li>
        <li><a href="#clear-config-cache">Clear Config Cache:</a></li>
      </ul>
    </li>
  </ul>
</nav>
</div>
<script>
    window.addEventListener('DOMContentLoaded', () => {
        enableStickyToc();
    });
</script>
        
    </div>
    

    
    
    <div
        class="col-span-2  lg:col-span-6 bg-secondary-bg rounded p-6">
        <h2 class="text-lg font-semibold mb-4">Ver también</h2>
        <div class="content">
            
            <a href="https://esaborit.github.io/posts/instalando-gitkraken-en-debian-buster/">Instalando GitKraken en Debian Buster</a>
            <br />
            
        </div>
    </div>
    
</div>
<script>
    document.addEventListener('DOMContentLoaded', ()=>{
        hljs.initHighlightingOnLoad();
    })
</script>

            </div>
        </div>
        
    </main>

    <footer>
        <div class="container mx-auto">
            <div class="max-w-screen-xl"><footer class="w-full text-center p-6 pin-b text-sm text-tertiary-text">
    <p>&copy; 2020 <a href="https://www.wangchucheng.com/">C. Wang</a> and <a href="https://www.ruiqima.com/">R. Ma</a> &middot;  Powered by the <a href="https://github.com/wangchucheng/hugo-eureka" class="hover:text-eureka">Eureka</a> theme for <a href="https://gohugo.io" class="hover:text-eureka">Hugo</a></p>
</footer></div>
        </div>
    </footer>
</body>

</html>